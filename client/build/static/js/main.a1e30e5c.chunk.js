(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/Logo.76d8cd68.png"},19:function(e,t,a){e.exports=a.p+"static/media/backgroundImage2.f82817c2.jpg"},38:function(e,t,a){e.exports=a(70)},43:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),c=a.n(l),s=(a(43),a(1)),o=a(4),m=a(14),i=function(e){var t=e.classes,a=e.children;return r.a.createElement("div",{className:"container ".concat(t)},a)},u=function(e){var t=e.classes,a=e.children;return r.a.createElement("div",{className:"row ".concat(t)},a)},d=function(e){var t=e.size,a=e.classes,n=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-".concat(e)}).join(" ")+" "+a},n)},f=function(e){var t=e.navState,a=e.children,n=e.id,l=t?"navbar-collapse collapse show":"navbar-collapse collapse";return r.a.createElement("div",{className:l,id:n},a)};function E(){return r.a.createElement("div",{style:p},r.a.createElement(i,null,r.a.createElement(u,null,r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement("div",{className:"jumbotron mt-5"},r.a.createElement("img",{style:g,src:a(18),alt:"Logo"}),r.a.createElement("h1",{className:"display-4"},r.a.createElement("em",null,"My")," EHR"),r.a.createElement("p",{className:"lead"},"All the medical records you need in one, simple place."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(o.b,{to:"/signup",className:"btn btn-primary btn-lg"},"Get Started"))))))}var p={backgroundImage:"url(".concat(a(19)),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh"},g={width:"60px",height:"auto",float:"right"},b=a(8),v=a(3),h=function(e){return r.a.createElement("input",Object.assign({className:"form-control"},e))},y=function(e){return r.a.createElement("textarea",Object.assign({className:"form-control"},e))},N=function(e){return r.a.createElement("button",e,e.children)},x=function(e){var t=e.msg,a=e.color;return r.a.createElement("p",{style:{color:a}},t)},w=function(e){var t=e.btnType;return r.a.createElement(N,{className:"btn btn-primary btn-lg btn-block",type:"submit"},t)},C=a(10),O=a.n(C),j={fetchPatient:function(e){return O.a.get("/api/patients/".concat(e))},fetchPatients:function(e){return O.a.get("/api/patients/load",e)},addPatient:function(e){return O.a.post("/api/patients/add",e)},removePatient:function(e){return O.a.delete("/api/patients/".concat(e))},updateEHR:function(e,t){return O.a.patch("/api/patients/".concat(e),t)},getUser:function(){return O.a.get("/api/users").then(function(e){return e})},register:function(e){return O.a.post("api/users/register",e)},login:function(e){return O.a.post("/api/users/login",e)},getConditionNames:function(e){return O.a.get("https://clinicaltables.nlm.nih.gov/api/conditions/v3/search?terms=".concat(e,"&sf=primary_name,consumer_name&df=primary_name,consumer_name,info_link_data"))},fetchCondition:function(e){return O.a.get("https://www.dictionaryapi.com/api/v3/references/medical/json/".concat(e,"?key=").concat("f57f85fe-8b49-4bf7-a104-d906698dec04"))},getMedNames:function(){return O.a.get("https://rxnav.nlm.nih.gov/REST/displaynames")},fetchMeds:function(e){return O.a.get("https://rxnav.nlm.nih.gov/REST/drugs.json?name=".concat(e))}},z=a(35),k=a(36),S=new(function(){function e(){Object(z.a)(this,e),this.authenticated=!1}return Object(k.a)(e,[{key:"login",value:function(e){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}());function P(){var e=Object(m.f)(),t=Object(n.useState)({}),l=Object(s.a)(t,2),c=l[0],f=l[1],E=Object(n.useState)(""),p=Object(s.a)(E,2),g=p[0],y=p[1],N=function(e){var t=e.target,a=t.name,n=t.value;f(Object(v.a)({},c,Object(b.a)({},a,n)))};return r.a.createElement("div",{style:D},r.a.createElement(i,null,r.a.createElement(u,{classes:"justify-content-center"},r.a.createElement(d,{size:"md-12",classes:"box-shadow sign"},r.a.createElement(u,null,r.a.createElement("div",{className:"mt-5"},r.a.createElement("h5",{style:I},r.a.createElement("img",{style:A,src:a(18),alt:"Logo"}),"Log-in to your account"))),r.a.createElement("div",{className:"text-center err-msg"},r.a.createElement(x,{msg:g,color:"#d9534f"})),r.a.createElement(u,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),t.target.reset(),j.login(c).then(function(t){"success"===t.data.status&&S.login(function(){e.push("/patients")})}).catch(function(e){y("Login failed.  Please try again."),setTimeout(function(){return y("")},3500)})},className:"card-body"},r.a.createElement("div",{className:"form-group usr-inpt"},r.a.createElement("label",null,"Email:"),r.a.createElement("span",{className:"fa fa-user"}),r.a.createElement(h,{onChange:N,name:"email",type:"email",placeholder:"E-mail address"})),r.a.createElement("div",{className:"form-group usr-inpt"},r.a.createElement("label",null,"Password:"),r.a.createElement("span",{className:"fa fa-lock"}),r.a.createElement(h,{onChange:N,name:"password",type:"password",placeholder:"Password"})),r.a.createElement(w,{btnType:"log in"}))),r.a.createElement(u,{classes:"justify-content-center"},r.a.createElement("p",null," New here?",r.a.createElement(o.b,{to:"/signup"}," Sign up.")))))))}var D={backgroundImage:"url(".concat(a(19)),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh"},A={width:"60px",height:"auto",margin:"15px"},I={color:"#0099ff",textShadow:"1px 1px #000"};function T(){var e=Object(m.f)(),t=Object(n.useState)({}),l=Object(s.a)(t,2),c=l[0],f=l[1],E=Object(n.useState)(""),p=Object(s.a)(E,2),g=p[0],y=p[1],N=function(e){var t=e.target,a=t.name,n=t.value;f(Object(v.a)({},c,Object(b.a)({},a,n)))},C=function(){setTimeout(function(){return y("")},3500)};return r.a.createElement("div",{style:R},r.a.createElement(i,null,r.a.createElement(u,{classes:"justify-content-center"},r.a.createElement(d,{size:"md-12",classes:"box-shadow sign"},r.a.createElement(u,null,r.a.createElement("div",{className:"mt-5"},r.a.createElement("h5",{style:L},r.a.createElement("img",{style:B,src:a(18),alt:"Logo"}),"Create your account"))),r.a.createElement("div",{className:"text-center err-msg"},r.a.createElement(x,{msg:g,color:"#d9534f"})),r.a.createElement(u,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),t.target.reset();try{j.register(c).then(function(t){"OK"===t.statusText&&(t.data.error?(y(t.data.error),C()):t.data.errors?(y("A valid email and password are required"),C()):j.login(c).then(function(t){"success"===t.data.status&&S.login(function(){e.push("/patients")})}))}),f("")}catch(a){y("Signup failed. Please try again."),C()}},className:"card-body"},r.a.createElement("div",{className:"form-group usr-inpt"},r.a.createElement("label",null,"Email:"),r.a.createElement("span",{className:"fa fa-user"}),r.a.createElement(h,{onChange:N,name:"email",type:"email",placeholder:"E-mail address"})),r.a.createElement("div",{className:"form-group usr-inpt"},r.a.createElement("label",null,"Password:"),r.a.createElement("span",{className:"fa fa-lock"}),r.a.createElement(h,{onChange:N,name:"password",type:"password",placeholder:"Password"})),r.a.createElement(w,{btnType:"Sign Up"}))),r.a.createElement(u,{classes:"justify-content-center"},r.a.createElement("p",null,"Already have an account?",r.a.createElement(o.b,{to:"/SignIn"}," Log In.")))))))}var R={backgroundImage:"url(".concat(a(19)),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh"},B={width:"60px",height:"auto",margin:"15px"},L={color:"#0099ff",textShadow:"1px 1px #000"},M=a(2),H=a.n(M),W=a(6);function F(e){var t=e.patient,a=e.context,n=e.removeState,l=e.confirmRemoval,c=e.remove,s=e.index,m=t.patientData,i=t.healthData,f=t._id;if(!m||!i)return r.a.createElement("div",null);var E,p=m.firstName,g=m.nickname;return E=p||g?g&&""!==g?g:p:"",n?t.removable?r.a.createElement("div",{className:"patient-remove"},r.a.createElement(o.b,{to:"/patients",onClick:c.bind(this,f),style:{textDecoration:"none"}},r.a.createElement("div",{className:"card box-shadow mt-5"},r.a.createElement("div",{className:"card-body text-center btn btn-outline-danger"},r.a.createElement(u,null,r.a.createElement(d,{size:"md-4"},r.a.createElement("i",{className:"fas fa-user-times fa-4x rm-lg-user"})),r.a.createElement(d,{size:"md-8"},r.a.createElement("h2",{className:"card-title"},"Please Confirm"),r.a.createElement("p",{className:"card-text"},"This will remove ",""!==E?E:"this patient"," from your list."))))))):r.a.createElement("div",{className:"patient-remove"},r.a.createElement(o.b,{to:"/patients",onClick:l.bind(this,s),style:{textDecoration:"none"}},r.a.createElement("div",{className:"card box-shadow mt-5"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement(u,null,r.a.createElement(d,{size:"md-2"}),r.a.createElement(d,{size:"md-8"},r.a.createElement("h2",{className:"card-title"},"Remove ",""===E?"this patient":E),r.a.createElement("p",{className:"card-text"},"Delete ",""!==E?E:"this patient"," from your patient list?")),r.a.createElement(d,{size:"md-2"},r.a.createElement("i",{className:"fas fa-user-times fa-2x rm-sm-user",style:_}))))))):r.a.createElement(o.b,{to:{pathname:"/ehr",state:{patientId:f,name:E}},onClick:function(){a({patientId:f,name:E})},style:{textDecoration:"none"}},r.a.createElement("div",{className:"card box-shadow mt-5"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h2",{className:"card-title"},""===E?"name this patient":E),r.a.createElement("p",{className:"card-text"},"Access ",""!==E?E:"this patient","'s information here."))))}var _={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"};function U(e){var t=e.removeState,a=e.toggleRemoveState,n=e.confirmed,l=e.cancel;return t?n?r.a.createElement("div",{className:"remove"},r.a.createElement(N,{className:"btn minus",style:t?{float:"left",color:"tomato"}:{float:"left"},onClick:l},r.a.createElement("i",{className:"fas fa-hand-point-right"})," last chance to cancel")):r.a.createElement("div",{className:"remove"},r.a.createElement(N,{className:"btn minus",style:t?{float:"left",color:"tomato"}:{float:"left"},onClick:function(){a(!t)}},r.a.createElement("i",{className:"fas fa-ban"})," Cancel")):r.a.createElement("div",null,r.a.createElement("div",{className:"add"},r.a.createElement(o.b,{to:{pathname:"/ehr",state:{patientId:""}},className:"btn plus",style:{float:"right"}},r.a.createElement("i",{className:"fas fa-user-plus"})," New Patient")),r.a.createElement("div",{className:"remove"},r.a.createElement(N,{className:"btn minus",style:{float:"left"},onClick:function(){a(!t)}},r.a.createElement("i",{className:"fas fa-user-minus"})," Remove Patients")))}function G(e){var t=e.setContext,a=Object(n.useState)([]),l=Object(s.a)(a,2),c=l[0],o=l[1],m=Object(n.useState)(!1),f=Object(s.a)(m,2),E=f[0],p=f[1],g=Object(n.useState)(!1),b=Object(s.a)(g,2),v=b[0],h=b[1];Object(n.useEffect)(function(){y()},[]);var y=function(){var e=Object(W.a)(H.a.mark(function e(){var t,a,n;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getUser();case 2:return t=e.sent,a=t.data,e.next=6,j.fetchPatients(a.user);case 6:n=e.sent,o(n.data);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(W.a)(H.a.mark(function e(t){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.removePatient(t);case 2:p(!1),y();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t=c;t[e].removable=!t[e].removable,h(!0),o(t)};return r.a.createElement(i,null,r.a.createElement(u,null,r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},c.map(function(e,a){return r.a.createElement(F,{patient:e,index:a,context:t,removeState:E,confirmRemoval:x,remove:N,key:e._id})}),r.a.createElement(U,{removeState:E,confirmed:v,cancel:function(){var e=c;e.forEach(function(e){e.removable=!1}),h(!1),p(!1),o(e)},toggleRemoveState:function(){p(!E)}}))))}var Y=a(13),V=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=(t[0],t[1]);return function(){return a(function(e){return++e})}},Z=Object(n.createContext)({patientId:"",name:""});function J(e){var t=e.data,a=e.target,n=e.editState,l=e.toggleState,c=e.formSubmit,s=e.name;return n?r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},s?"".concat(s,"'s"):""," Contact Information:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},K,{color:"tomato"}),onClick:l})),r.a.createElement("form",{onSubmit:c},r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"First Name"),r.a.createElement(h,{value:t?t.firstName:"",name:"firstName",style:Q,onChange:a})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement(h,{value:t?t.lastName:"",name:"lastName",style:Q,onChange:a})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Nickname"),r.a.createElement(h,{value:t?t.nickname:"",name:"nickname",style:Q,placeholder:"e.g. 'Mom'",onChange:a}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 1"),r.a.createElement(h,{value:t?t.addressOne:"",name:"addressOne",style:Q,onChange:a}),"                    "),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 2"),r.a.createElement(h,{value:t?t.addressTwo:"",name:"addressTwo",style:Q,onChange:a}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City"),r.a.createElement(h,{value:t?t.city:"",name:"city",style:Q,onChange:a})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence"),r.a.createElement(h,{value:t?t.state:"",name:"state",style:Q,onChange:a})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code"),r.a.createElement(h,{value:t?t.zip:"",name:"zip",style:Q,onChange:a})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country"),r.a.createElement(h,{value:t?t.country:"",name:"country",style:Q,onChange:a}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Phone Number"),r.a.createElement(h,{value:t?t.phone:"",name:"phone",style:Q,onChange:a})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement(h,{value:t?t.email:"",name:"email",style:Q,onChange:a}))),r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"btn",style:$,type:"submit"}," ",r.a.createElement("i",{className:"fas fa-sync-alt mr-2"})," "," "," "," update")))):r.a.createElement("div",{className:"my-5 gen-info"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},s?"".concat(s,"'s"):""," Contact Information:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:K,onClick:l})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"First Name:"),r.a.createElement("div",{style:q},t.firstName)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Last Name:"),r.a.createElement("div",{style:q},t.lastName)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Nickname:"),r.a.createElement("div",{style:q},t.nickname))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address line 1:"),r.a.createElement("div",{style:q},t.addressOne)),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address line 2:"),r.a.createElement("div",{style:q},t.addressTwo))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City:"),r.a.createElement("div",{style:q},t.city)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence:"),r.a.createElement("div",{style:q},t.state)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code:"),r.a.createElement("div",{style:q},t.zip)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country:"),r.a.createElement("div",{style:q},t.country))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Phone Number:"),r.a.createElement("div",{style:q},t.phone)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("div",{style:q},t.email)))))}var q={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},K={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},$={float:"right",margin:"0",backgroundColor:"#214c91",color:"white",padding:".4rem .75rem"},Q={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"};function X(e){var t,a,n=e.data,l=e.target,c=e.editState,s=e.toggleState,o=e.formSubmit,m=e.name,i=function(e){var t=new Date,a=new Date(e),n=t.getMonth()-a.getMonth(),r=t.getFullYear()-a.getFullYear();return isNaN(r)?"??":n<0||0===n&&t.getDate()<a.getDate()?r-1:r};return c?r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},m?"".concat(m,"'s"):""," Basic Health Information:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},te,{color:"tomato"}),onClick:s})),r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Date of Birth"),r.a.createElement(h,{name:"dob",placeholder:"MM/DD/YYYY",value:n.dob,style:ne,onChange:l})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Age"),r.a.createElement("div",{style:ee},i(n.dob))),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Gender"),r.a.createElement("select",{name:"gender",className:"form-control",style:ne,onChange:l},(a=n.gender,["Select","Male","Female","Transgender Male","Transgender Female"].map(function(e,t){return e===a?r.a.createElement("option",{key:t,value:a,defaultValue:!0},a):r.a.createElement("option",{key:t},e)})))),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Blood Type"),r.a.createElement("select",{name:"bloodType",className:"form-control",style:ne,onChange:l},(t=n.bloodType,["Select","Unknown","A-Positive","A-Negative","B-Positive","B-Negative","AB-Positive","AB-Negative","O-Positive","O-Negative"].map(function(e,a){return e===t?r.a.createElement("option",{key:a,value:t,defaultValue:!0},t):r.a.createElement("option",{key:a},e)}))))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Insurance Plan"),r.a.createElement(h,{value:n.insurance,name:"insurance",style:ne,onChange:l})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Number"),r.a.createElement(h,{value:n.insNumber,name:"insNumber",style:ne,onChange:l})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Rx BIN"),r.a.createElement(h,{value:n.rxBin,name:"rxBin",style:ne,onChange:l})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Rx PCN"),r.a.createElement(h,{value:n.rxPcn,name:"rxPcn",style:ne,onChange:l}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Allergies"),r.a.createElement(y,{value:n.allergies,name:"allergies",style:ne,onChange:l})),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Immunizations (include dates received)"),r.a.createElement(y,{value:n.immunizations,name:"immunizations",style:ne,onChange:l}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Family History & Other Notes"),r.a.createElement(y,{value:n.notes,name:"notes",style:ne,onChange:l}))),r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"btn",style:ae,type:"submit"}," ",r.a.createElement("i",{className:"fas fa-sync-alt mr-2"})," "," "," "," update")))):r.a.createElement("div",{className:"my-5 health-info"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},m?"".concat(m,"'s"):""," Basic Health Information:")),r.a.createElement(d,{size:"md-12",classes:"gen-edit mt-5"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:te,onClick:s})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Date of Birth:"),r.a.createElement("div",{style:ee},n.dob)),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Age:"),r.a.createElement("div",{style:ee},i(n.dob))),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Gender:"),r.a.createElement("div",{style:ee},n.gender)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Blood Type:"),r.a.createElement("div",{style:ee},n.bloodType))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Insurance Plan:"),r.a.createElement("div",{style:ee},n.insurance)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Number:"),r.a.createElement("div",{style:ee},n.insNumber)),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Rx BIN:"),r.a.createElement("div",{style:ee},n.rxBin)),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Rx PCN:"),r.a.createElement("div",{style:ee},n.rxPcn))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Allergies:"),r.a.createElement("div",{style:ee},n.allergies)),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Immunizations (include dates received):"),r.a.createElement("div",{style:ee},n.immunizations))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Family History & Other Notes:"),r.a.createElement("div",{style:ee},n.notes)))))}var ee={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},te={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},ae={float:"right",margin:"0",backgroundColor:"#214c91",color:"white",padding:".4rem .75rem"},ne={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"};function re(e){var t=e.data,a=e.name,n=e.target,l=e.areaTarget,c=e.editState,s=e.toggleState,o=e.formSubmit,m=e.renderSuggestions,i=e.remove,u=e.text,f=e.toggleDescState,E=e.editDescState,p=function(e){return e.length>250?e.length/80:3};function g(e){var t=this;return e.sort(function(e,t){return t.createdAt-e.createdAt}).map(function(e,a){return e.edit?r.a.createElement(d,{key:a,size:"md-12",classes:"form-group"},r.a.createElement("form",null,r.a.createElement("label",{style:le},e.name," "," ",r.a.createElement(N,{className:"fas fa-pen",style:ie,onClick:f.bind(t,a)}),r.a.createElement(N,{className:"fas fa-sync-alt",style:ue,onClick:f.bind(t,a)})),r.a.createElement(y,{value:e.description,rows:p(e.description),onChange:l(a),style:ce}))):r.a.createElement(d,{key:a,size:"md-12",classes:"form-group"},r.a.createElement("label",{style:le},e.name," "," ",r.a.createElement(N,{className:"fas fa-pen",style:ie,onClick:f.bind(t,a)}),r.a.createElement(N,{className:"fas fa-times",style:de,onClick:i.bind(t,a)})),r.a.createElement("div",null,e.description))})}return!c&&0!==t.length||E?E?r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},a?"".concat(a,"'s"):""," Health Conditions:")),r.a.createElement(d,{size:"md-12 mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},oe,{color:"tomato"}),onClick:s})),r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"form-row",style:{background:"white"}},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Add New Condition"),r.a.createElement("div",null,r.a.createElement(h,{type:"text",style:se,value:u,onChange:n}),m())),r.a.createElement(d,{size:"md-3"},r.a.createElement(N,{className:"btn",style:me,type:"submit"}," ",r.a.createElement("i",{className:"fa fa-plus fa-2x mr-2"})," Add"))),r.a.createElement("div",{className:"form-row"},g(t)))):r.a.createElement("div",{className:"mt-5 condition-info"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},a?"".concat(a,"'s"):""," Health Conditions:")),r.a.createElement(d,{size:"md-12",classes:"condition-edit mt-5"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:oe,onClick:s})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},t.sort(function(e,t){return t.createdAt-e.createdAt}).map(function(e,t){return r.a.createElement(d,{key:t,size:"md-12",classes:"form-group"},r.a.createElement("label",{style:le},e.name," "),r.a.createElement("div",null,e.description))})))):r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},a?"".concat(a,"'s"):""," Health Conditions:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},oe,{color:"tomato"}),onClick:s})),r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"form-row",style:{background:"white"}},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Add New Condition"),r.a.createElement("div",null,r.a.createElement(h,{type:"text",autoComplete:"off",style:se,value:u,onChange:n}),m())),r.a.createElement(d,{size:"md-3"},r.a.createElement(N,{className:"btn",style:me,type:"submit"}," ",r.a.createElement("i",{className:"fa fa-plus fa-2x mr-2"})," Add"))),r.a.createElement("div",{className:"form-row"},g(t))))}var le={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},ce={resize:"none",borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"},se={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"},oe={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},me={marginTop:"30px",color:"#214c91",focus:"none",size:"10em"},ie={border:"none",backgroundColor:"white"},ue={backgroundColor:"white",border:"none",color:"#214c91"},de={backgroundColor:"white",border:"none",color:"red"};function fe(e){var t=e.data,a=e.text,n=e.name,l=e.target,c=e.remove,s=e.addDoses,o=e.editState,m=e.formSubmit,i=e.toggleState,u=e.otherDosage,f=e.doseChoices,E=e.renderSuggestions;return o||0===t.length?r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},n?"".concat(n,"'s"):""," Medications:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},ge,{color:"tomato"}),onClick:i})),r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"form-row",style:{background:"white"}},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Add New Medication"),r.a.createElement(N,{className:"fas fa-hand-point-right",style:ve,onClick:s}),r.a.createElement("div",null,r.a.createElement(h,{name:"medication",autoComplete:"off",style:pe,value:a,onBlur:s,onChange:l}),E())),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Select Dosage"),r.a.createElement("div",null,function(e){if(e&&"Other Dose"!==u){var t=e.includes("Other Dose")?e:e.concat("Other Dose");return r.a.createElement("select",{name:"dosage",style:pe,onChange:l,className:"form-control"},r.a.createElement("option",{defaultValue:!0},"Which Dose?"),t.map(function(e,t){return r.a.createElement("option",{key:t},e)}))}return r.a.createElement(h,{name:"dosage",placeholder:"Enter Dosage",style:pe,onChange:l})}(f))),r.a.createElement(d,{size:"md-2"},r.a.createElement(N,{className:"btn",style:be,type:"submit"}," ",r.a.createElement("i",{className:"fa fa-plus fa-2x mr-2"})," "," Add")))),r.a.createElement("div",{className:"form-row"},function(e){var t=this;return e.sort(function(e,t){return t.createdAt-e.createdAt}).map(function(e,a){return r.a.createElement(d,{key:a,size:"md-12",classes:"form-group"},r.a.createElement("label",{style:Ee},e.medication," ",r.a.createElement(N,{className:"fas fa-times",type:"submit",style:he,onClick:c.bind(t,a)})),r.a.createElement("div",null,e.dosage))})}(t))):r.a.createElement("div",{className:"my-5 med-info"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},n?"".concat(n,"'s"):""," Medications:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:ge,onClick:i})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},t.sort(function(e,t){return t.createdAt-e.createdAt}).map(function(e,t){return r.a.createElement(d,{key:t,size:"md-12",classes:"form-group"},r.a.createElement("label",{style:Ee},e.medication," "),r.a.createElement("div",null,e.dosage))}))))}var Ee={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},pe={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"},ge={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},be={marginTop:"30px",color:"#214c91",focus:"none",size:"10em"},ve={border:"none",color:"green",float:"right",backgroundColor:"white"},he={backgroundColor:"white",border:"none",color:"red"};function ye(e){var t=e.target,a=e.toggleState,n=e.formSubmit;return r.a.createElement("div",{className:"my-5"},r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Ne,onClick:a})),r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact for"),r.a.createElement(h,{name:"contact",placeholder:"PCP, Pharmacy, etc..",style:we,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Office or Business Name"),r.a.createElement(h,{name:"office",placeholder:"Vandelay Industries",style:we,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact Name"),r.a.createElement(h,{name:"name",placeholder:"Art Vandelay",style:we,onChange:t}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 1"),r.a.createElement(h,{name:"addressOne",style:we,onChange:t}),"                    "),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 2"),r.a.createElement(h,{name:"addressTwo",style:we,onChange:t}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City"),r.a.createElement(h,{name:"city",style:we,onChange:t})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence"),r.a.createElement(h,{name:"state",style:we,onChange:t})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code"),r.a.createElement(h,{name:"zip",style:we,onChange:t})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country"),r.a.createElement(h,{name:"country",style:we,onChange:t}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Primary Phone"),r.a.createElement(h,{name:"primaryPhone",style:we,onChange:t})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext."),r.a.createElement(h,{name:"primaryExt",style:we,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Another Phone"),r.a.createElement(h,{name:"secondaryPhone",style:we,onChange:t})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext."),r.a.createElement(h,{name:"secondaryExt",style:we,onChange:t}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Fax"),r.a.createElement(h,{name:"fax",style:we,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement(h,{name:"email",style:we,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Website"),r.a.createElement(h,{name:"website",style:we,onChange:t}))),r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"btn",style:xe,type:"submit"}," ",r.a.createElement("i",{className:"fa fa-address-book mr-2"})," "," "," "," Save"))))}var Ne={float:"right",border:"none",margin:"0",color:"tomato",backgroundColor:"white"},xe={float:"right",margin:"0",backgroundColor:"#55595c",color:"white"},we={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"};function Ce(e){var t=this,a=e.data,l=e.name,c=e.target,o=e.remove,m=e.newContact,i=e.toggleNew,u=e.newTarget,f=e.toggleState,E=e.formSubmit,p=Object(n.useState)(!1),g=Object(s.a)(p,2),b=g[0],y=g[1],x=function(e){return e?e.replace(/[^\d]/g,""):""},w=function(e){return b?r.a.createElement("div",{className:"remove"},r.a.createElement(N,{type:"button",className:"btn btn-danger",style:{float:"right"},onClick:o.bind(t,e,function(){y(!b)})},r.a.createElement("i",{className:"fas fa-user-times"}," ")," Confirm Delete"),r.a.createElement(N,{className:"btn minus",style:{float:"left"},onClick:function(){y(!b)}},r.a.createElement("i",{className:"fas fa-ban"})," Cancel")):r.a.createElement("div",{className:"remove"},r.a.createElement(N,{className:"btn minus",style:{float:"left"},onClick:function(){y(!b)}},r.a.createElement("i",{className:"fa fa-minus"})," Remove Contact"))};return r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},"Emergency or other contact Info ",l?"for ".concat(l):"",":")),function(e){var t=this;return e.map(function(e,a){return e.edit?r.a.createElement("div",{key:a,className:"mt-5"},r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:b?Object(v.a)({},Se,{color:"white"}):Se,onClick:f.bind(t,a)})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact for"),r.a.createElement(h,{value:e.contact,name:"contact",placeholder:"Dr, Pharmacy, etc..",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Office or Business Name"),r.a.createElement(h,{value:e.office,name:"office",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact Name"),r.a.createElement(h,{value:e.name,name:"name",placeholder:"Dr. Smith",style:je,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 1"),r.a.createElement(h,{value:e.addressOne,name:"addressOne",style:je,onChange:c(a)})," "),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 2"),r.a.createElement(h,{value:e.addressTwo,name:"addressTwo",style:je,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City"),r.a.createElement(h,{value:e.city,name:"city",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence"),r.a.createElement(h,{value:e.state,name:"state",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code"),r.a.createElement(h,{value:e.zip,name:"zip",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country"),r.a.createElement(h,{value:e.country,name:"country",style:je,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Primary Phone"),r.a.createElement(h,{value:e.primaryPhone,name:"primaryPhone",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext."),r.a.createElement(h,{value:e.primaryExt,name:"primaryExt",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Another Phone"),r.a.createElement(h,{value:e.secondaryPhone,name:"secondaryPhone",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext."),r.a.createElement(h,{value:e.secondaryExt,name:"secondaryExt",style:je,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Fax"),r.a.createElement(h,{value:e.fax,name:"fax",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement(h,{value:e.email,name:"email",style:je,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Website"),r.a.createElement(h,{value:e.website,name:"website",style:je,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-12"},w(a),r.a.createElement(N,{className:"btn",style:b?{display:"none"}:ze,onClick:f.bind(t,a)},r.a.createElement("i",{className:"fas fa-sync-alt mr-2"}),"update"))))):r.a.createElement("div",{key:a,className:"mt-5 contacts-info"},r.a.createElement(d,{size:"md-12",classes:"contacts-edit"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:ke,onClick:function(){y(!1),f(a)}})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact for:"),r.a.createElement("div",{style:Oe},e.contact)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Office or Business Name:"),r.a.createElement("div",{style:Oe},e.office)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact Name:"),r.a.createElement("div",{style:Oe},e.name))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address line 1:"),r.a.createElement("div",{style:Oe},e.addressOne)),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address line 2:"),r.a.createElement("div",{style:Oe},e.addressTwo))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City:"),r.a.createElement("div",{style:Oe},e.city)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence:"),r.a.createElement("div",{style:Oe},e.state)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code:"),r.a.createElement("div",{style:Oe},e.zip)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country:"),r.a.createElement("div",{style:Oe},e.country))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Primary Phone:"),r.a.createElement("div",{style:Object(v.a)({},Oe,{textDecoration:"underline"})},r.a.createElement("a",{href:"tel:".concat(x(e.primaryPhone))},e.primaryPhone))),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext:"),r.a.createElement("div",{style:Oe},e.primaryExt)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Another Phone:"),r.a.createElement("div",{style:Object(v.a)({},Oe,{textDecoration:"underline"})},r.a.createElement("a",{href:"tel:".concat(x(e.secondaryPhone))},e.secondaryPhone))),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext:"),r.a.createElement("div",{style:Oe},e.secondaryExt))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Fax:"),r.a.createElement("div",{style:Oe},e.fax)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("div",{style:Object(v.a)({},Oe,{textDecoration:"underline"})},r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email))),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Website:"),r.a.createElement("div",{style:Object(v.a)({},Oe,{textDecoration:"underline"})},r.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://".concat(e.website)},e.website))))))})}(a),function(e){if(e)return r.a.createElement(ye,{target:u,toggleState:i,formSubmit:E})}(m),r.a.createElement("div",{className:"add"},r.a.createElement(N,{className:"btn plus",style:m?{display:"none"}:{display:"block",float:"right"},onClick:i},r.a.createElement("i",{className:"fa fa-plus"})," New Contact")))}var Oe={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},je={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"},ze={float:"right",margin:"0",backgroundColor:"#214c91",color:"white"},ke={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},Se={float:"right",border:"none",margin:"0",color:"tomato",backgroundColor:"white"};function Pe(e){var t=e.location,a=e.setContext,l=Object(n.useContext)(Z),c=l.patientId,o=l.name;c=c||t.state.patientId;var m=Object(n.useState)(c),f=Object(s.a)(m,2),E=f[0],p=f[1],g=Object(n.useState)({}),h=Object(s.a)(g,2),y=h[0],N=h[1],x=Object(n.useState)({}),w=Object(s.a)(x,2),C=w[0],O=w[1],z=Object(n.useState)([]),k=Object(s.a)(z,2),S=k[0],P=k[1],D=Object(n.useState)([]),A=Object(s.a)(D,2),I=A[0],T=A[1],R=Object(n.useState)([]),B=Object(s.a)(R,2),L=B[0],M=B[1],F=Object(n.useState)(""),_=Object(s.a)(F,2),U=_[0],G=_[1],q=Object(n.useState)({}),K=Object(s.a)(q,2),$=K[0],Q=K[1],ee=Object(n.useState)(!1),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(!1),ce=Object(s.a)(le,2),se=ce[0],oe=ce[1],me=Object(n.useState)(!1),ie=Object(s.a)(me,2),ue=ie[0],de=ie[1],Ee=Object(n.useState)(!1),pe=Object(s.a)(Ee,2),ge=pe[0],be=pe[1],ve=Object(n.useState)(!1),he=Object(s.a)(ve,2),ye=he[0],Ne=he[1],xe=Object(n.useState)([]),we=Object(s.a)(xe,2),Oe=we[0],je=we[1],ze=Object(n.useState)([]),ke=Object(s.a)(ze,2),Se=ke[0],Pe=ke[1],De=Object(n.useState)(""),Ae=Object(s.a)(De,2),Ie=Ae[0],Te=Ae[1],Re=Object(n.useState)(""),Be=Object(s.a)(Re,2),Le=Be[0],Me=Be[1],He=V(),We=Object(n.useRef)(),Fe=Object(n.useRef)(),_e=Object(n.useRef)(),Ue=Object(n.useRef)(!0);Object(n.useEffect)(function(){Ue.current?(Ue.current=!1,Ge()):Ve()},[y,C,S,I,L]);var Ge=function(){var e=Object(W.a)(H.a.mark(function e(){var a,n;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.state.patientId){e.next=4;break}Ye(),e.next=14;break;case 4:return e.next=6,j.fetchPatient(E);case 6:a=e.sent,n=a.data,N(n.patientData),O(n.healthData),P(n.healthConditions),T(n.medications),M(n.contacts),Ze(n);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(W.a)(H.a.mark(function e(){var t,a,n,r,l;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getUser();case 2:return t=e.sent,a=t.data.user.email,n={email:a,generalInfo:y,healthInfo:C,conditions:S,meds:I,contacts:L},e.next=7,j.addPatient(n);case 7:r=e.sent,l=r.data,p(l._id),oe(!0),de(!0),Ze();case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ve=function(e){if(e&&(e.preventDefault(),oe(!1),de(!1)),Je()){var t={generalInfo:y,healthInfo:C,conditions:S,meds:I,contacts:L};j.updateEHR(E,t).catch(function(e){return console.log(e)})}},Ze=function(e){We.current=!!(e&&e.healthConditions.length>0),Fe.current=!!(e&&e.medications.length>0),_e.current=!!(e&&e.contacts.length>0)},Je=function(){return(!We.current||0!==S.length)&&((!Fe.current||0!==I.length)&&(!_e.current||0!==L.length))};Object(n.useEffect)(function(){qe()},[y]);var qe=function(){var e=y.firstName,t=y.nickname;a({patientId:E,name:t||e})},Ke=function(){var e=Object(W.a)(H.a.mark(function e(t){var a,n,r,l;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,et(a);case 3:n=e.sent,r=[],a.length>0&&(l=new RegExp("^".concat(a),"i"),r=n.sort().filter(function(e){return l.test(e)})),je({suggestions:r,text:a});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){var e=setTimeout(function(){return G(Le)},500);return function(){return clearTimeout(e)}},[Le]);var $e=function(){var e=Object(W.a)(H.a.mark(function e(t){var a,n,r,l,c,s;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,n=a.name,r=a.value,Me(Object(v.a)({},Le,Object(b.a)({},n,r))),"medication"!==n){e.next=15;break}return e.prev=3,e.next=6,tt(r);case 6:l=e.sent,c=[],r.length>0&&(s=new RegExp("^".concat(r),"i"),c=l.sort().filter(function(e){return s.test(e)}).slice(0,8)),Pe({suggestions:c,text:r}),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return");case 15:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(W.a)(H.a.mark(function e(t){var a,n,r,l,c,o,m,i;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.reset(),a=Oe.text,je([]),a){e.next=6;break}return e.abrupt("return");case 6:return n=a.split("-"),r=Object(s.a)(n,1),l=r[0],e.next=11,j.fetchCondition(l);case 11:c=e.sent,o=c.data,m=o[0]&&o[0].shortdef?o[0].shortdef.join("\n"):"",i={name:Xe(a),description:m,edit:!1,createdAt:Date.now()},We.current=!0,P([].concat(Object(Y.a)(S),[i]));case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Xe=function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},et=function(){var e=Object(W.a)(H.a.mark(function e(t){var a,n;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getConditionNames(t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n[3].map(function(e){return e[0]}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(W.a)(H.a.mark(function e(t){var a,n;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getMedNames(t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n.displayTermsList?n.displayTermsList.term:"??");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(W.a)(H.a.mark(function e(t){var a,n,r,l,c,o,m;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(je({suggestions:[],text:t}),t){e.next=3;break}return e.abrupt("return");case 3:return a=t.split("-"),n=Object(s.a)(a,1),r=n[0],e.next=8,j.fetchCondition(r);case 8:l=e.sent,c=l.data,o=c[0]&&c[0].shortdef?c[0].shortdef.join("\n"):"",m={name:Xe(t),description:o,edit:!1,createdAt:Date.now()},P([].concat(Object(Y.a)(S),[m])),je({text:""});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(W.a)(H.a.mark(function e(t){var a,n,r;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe({suggestions:[],text:t}),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,j.fetchMeds(t);case 6:a=e.sent,n=a.data,r=n.drugGroup.conceptGroup[1].conceptProperties.map(function(e){return e.synonym}).filter(function(e){return""!==e}),Te(r),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return");case 15:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(W.a)(H.a.mark(function e(t){var a,n,r,l;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Se.text){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,j.fetchMeds(a);case 7:n=e.sent,r=n.data,l=r.drugGroup.conceptGroup[1].conceptProperties.map(function(e){return e.synonym}).filter(function(e){return""!==e}),Te(l),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return");case 16:case"end":return e.stop()}},e,null,[[4,13]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(i,null,r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(J,{toggleState:function(){return oe(!se)},editState:se,data:y,target:function(e){var t=e.target,a=t.name,n=t.value;N(Object(v.a)({},y,Object(b.a)({},a,n)))},formSubmit:Ve,name:o}))),r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(X,{toggleState:function(){return de(!ue)},editState:ue,data:C,target:function(e){var t=e.target,a=t.name,n=t.value;O(Object(v.a)({},C,Object(b.a)({},a,n)))},formSubmit:Ve,name:o}))),r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(re,{toggleState:function(){return be(!ge)},editState:ge,toggleDescState:function(e){var t=[];S.forEach(function(a,n){a.edit=n===e&&!a.edit,t.push(a)}),P(t)},remove:function(e){var t=S;t.splice(e,1),We.current=0!==t.length,P(Object(Y.a)(t))},areaTarget:function(e){return function(t){var a=t.target.value,n=S;He();var r={name:S[e].name,edit:S[e].edit,description:a};n.splice(e,1,r),P(n)}},data:S,target:Ke,renderSuggestions:function(){var e=Oe.suggestions;if(e&&0!==e.length)return r.a.createElement("ul",null,e.map(function(e,t){return r.a.createElement("li",{onClick:function(){return at(e)},key:t},e)}))},text:Oe.text,formSubmit:Qe,name:o}))),r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(fe,{toggleState:function(){return Ne(!ye)},editState:ye,data:I,target:$e,renderSuggestions:function(){var e=Se.suggestions;if(e&&0!==e.length)return r.a.createElement("ul",null,e.map(function(e,t){return r.a.createElement("li",{onClick:function(){return nt(e)},key:t},e)}))},text:Se.text,otherDosage:U.dosage,remove:function(e){var t=I;t.splice(e,1),Fe.current=0!==t.length,T(Object(Y.a)(t))},addDoses:rt,doseChoices:Ie,formSubmit:function(e){e.preventDefault(),e.target.reset();var t=Se.text;if(t)try{t=t.split(" ");var a={medication:Xe(t[0]),dosage:U.dosage,edit:!1,createdAt:Date.now()};Fe.current=!0,T([].concat(Object(Y.a)(I),[a])),Te(""),Me(""),Pe([])}catch(n){return}},name:o}))),r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(Ce,{toggleNew:function(){return ne(!ae)},toggleState:function(e){var t=[];L.forEach(function(a,n){a.edit=n===e&&!a.edit,t.push(a)}),M(t)},newContact:ae,data:L,target:function(e){return function(t){var a=t.target,n=a.name,r=a.value,l=L,c=L[e];He();for(var s=0,o=Object.keys(c);s<o.length;s++){var m=o[s];m===n?c[m]=r:c.hasOwnProperty(n)||(c[n]=r)}l.splice(e,1,c),M(l)}},remove:function(e){var t=L;t.splice(e,1),_e.current=0!==t.length,M(Object(Y.a)(t))},newTarget:function(e){var t=e.target,a=t.name,n=t.value;Q(Object(v.a)({},$,Object(b.a)({},a,n)))},formSubmit:function(e){e.preventDefault(),ne(!1),_e.current=!0,M([].concat(Object(Y.a)(L),[$]))},name:o}))))}function De(e){var t=e.location,a=Object(n.useState)([]),l=Object(s.a)(a,2),c=l[0],o=l[1],m=Object(n.useState)({}),f=Object(s.a)(m,2),E=f[0],p=f[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),y=h[0],N=h[1],x=Object(n.useState)({}),w=Object(s.a)(x,2),C=w[0],O=w[1],z=Object(n.useState)({}),k=Object(s.a)(z,2),S=k[0],P=k[1],D=Object(n.useState)([]),A=Object(s.a)(D,2),I=A[0],T=A[1],R=Object(n.useState)([]),B=Object(s.a)(R,2),L=B[0],M=B[1],F=V(),_=Object(n.useRef)(!0),U=Object(n.useContext)(Z),G=U.patientId,J=U.name;G=G||t.state.patientId,Object(n.useEffect)(function(){_.current?(_.current=!1,q()):K()},[c]);var q=function(){var e=Object(W.a)(H.a.mark(function e(){var t,a;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j.fetchPatient(G);case 4:t=e.sent,a=t.data,O(a.patientData),P(a.healthData),T(a.healthConditions),M(a.medications),o(a.contacts);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),K=function(){var e={generalInfo:C,healthInfo:S,conditions:I,meds:L,contacts:c};j.updateEHR(G,e).catch(function(e){return console.log(e)})};return r.a.createElement(i,null,r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(Ce,{toggleNew:function(){return N(!y)},toggleState:function(e){var t=[];c.forEach(function(a,n){a.edit=n===e&&!a.edit,t.push(a)}),o(t)},newContact:y,data:c,target:function(e){return function(t){var a=t.target,n=a.name,r=a.value,l=c,s=c[e];F();for(var m=0,i=Object.keys(s);m<i.length;m++){var u=i[m];u===n?s[u]=r:s.hasOwnProperty(n)||(s[n]=r)}l.splice(e,1,s),o(l)}},remove:function(e){var t=c;t.splice(e,1),o(Object(Y.a)(t))},newTarget:function(e){var t=e.target,a=t.name,n=t.value;p(Object(v.a)({},E,Object(b.a)({},a,n)))},formSubmit:function(e){e.preventDefault(),N(!1);var t=c.concat(E);o(t)},name:J}))))}function Ae(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(m.f)(),i=Object(m.g)().pathname,u=Object(n.useContext)(Z),d=u.patientId,E=u.name,p=function(){return S.logout(function(){c.push("/")})};return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(o.b,{to:"/",className:"navbar-brand"},r.a.createElement("em",null,"my"),"EHR"),r.a.createElement("button",{onClick:function(){return l(a=!a)},className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#target-collapse"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(f,{navState:a,id:"target-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"/"===i?"nav-item active":"nav-item"},r.a.createElement(o.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"/patients"===i?"nav-item active":"nav-item",style:S.isAuthenticated()?{display:"block"}:{display:"none"}},r.a.createElement(o.b,{to:"/patients",className:"nav-link"},"Saved health records")),r.a.createElement("li",{className:"/ehr"===i?"nav-item active":"nav-item",style:"/ehr"===i||"/contacts"===i?{display:"block"}:{display:"none"}},r.a.createElement(o.b,{to:{pathname:"/ehr",state:{patientId:d,name:E}},className:"nav-link"},E?"".concat(E,"'s"):""," EHR")),r.a.createElement("li",{className:"/contacts"===i?"nav-item active":"nav-item",style:"/ehr"===i||"/contacts"===i?{display:"block"}:{display:"none"}},r.a.createElement(o.b,{to:{pathname:"/contacts",state:{patientId:d,name:E}},className:"nav-link"},E?"".concat(E,"'s"):""," Contacts"))),S.isAuthenticated()?r.a.createElement(N,{className:"btn btn-outline-primary m-2",type:"button",onClick:p},"Log Out"):r.a.createElement("div",null,r.a.createElement(o.b,{to:"/signin"},r.a.createElement(N,{className:"btn btn-outline-primary m-2",type:"button"},"Log In")),r.a.createElement(o.b,{to:"/signup"},r.a.createElement(N,{className:"btn btn-outline-primary m-2",type:"button"},"Sign Up")))))}var Ie=a(37);function Te(e){var t=e.component,a=Object(Ie.a)(e,["component"]);return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return S.isAuthenticated()?r.a.createElement(t,Object.assign({},a,e)):r.a.createElement(m.a,{to:{pathname:"/",state:{from:e.location}}})}}))}a(68),a(69);function Re(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Z.Provider,i=function(e){return l(e)};return r.a.createElement(o.a,null,r.a.createElement(c,{value:a},r.a.createElement(m.b,{path:"/"},r.a.createElement(Ae,null)," "),r.a.createElement(m.b,{exact:!0,path:"/"}," ",r.a.createElement(E,null)," "),r.a.createElement(m.b,{exact:!0,path:"/signin"}," ",r.a.createElement(P,null)," "),r.a.createElement(m.b,{exact:!0,path:"/signup"}," ",r.a.createElement(T,null)," "),r.a.createElement(Te,{exact:!0,path:"/patients",component:G,setContext:i}),r.a.createElement(Te,{exact:!0,path:"/ehr",component:Pe,setContext:i}),r.a.createElement(Te,{exact:!0,path:"/contacts",component:De})))}var Be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Le(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(Re,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Be?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Le(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Le(e)})}}()}},[[38,1,2]]]);
//# sourceMappingURL=main.a1e30e5c.chunk.js.map